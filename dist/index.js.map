{"version":3,"sources":["../src/index.js"],"names":["React","reactify","globalRoot","render","component","target","push","ReactDOM","settings","l","name","val","val2","val3","val4","debug","console","group","undefined","log","groupEnd","configure","default","Template","renderWhenReady","Ext","window","go","callback","element","namespace","application","launch","Viewport","getRenderTarget","dom","rootElement","appElement","createElement","theElements","ExtReact","rootComponent","options","viewport","style","document","innerHTML","head","appendChild","setAttribute","body","appConfig","install","warn"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { reactify } from './reactify'\n\n//export function ExtReact() {} //??\n//import { reactify } from '@sencha/ext-react'\n//var ExtReact = reactify('ExtReact')\n\nvar globalRoot = []\nexport { globalRoot }\nexport function render(component, target) {\n  globalRoot.push(target)\n  ReactDOM.render(component, target)\n}\n\nimport { settings } from './reactify'\nexport { reactify }\n\nexport function l(name,val,val2,val3,val4){\n  //settings.debug = true\n  if (settings.debug) { \n    console.group(name);\n    if (val != undefined) {\n      console.log(val)\n    }\n    if (val2 != undefined) {\n      console.log(val2)\n    }\n    if (val3 != undefined) {\n      console.log(val3)\n    }\n    if (val4 != undefined) {\n      console.log(val4)\n    }\n    console.groupEnd();\n  }\n}\n\nimport ReactDOM from 'react-dom';\nimport './overrides';\nimport { configure } from './reactify';\n\nexport { default as Template } from './Template';\nexport { default as renderWhenReady } from './renderWhenReady';\n\nconst Ext = window.Ext;\n\nexport function go({callback, element}) {\n  Ext.namespace('Ext.react').ReactDOM = ReactDOM; // needed for RendererCell and any other components that can render React elements;\n  //var rootEl = rootElement\n// \n  Ext.application({\n    name: '$ExtReactApp',\n//    ...appConfig,\n    launch: () => {\n      if (Ext.Viewport && Ext.Viewport.getRenderTarget) {\n        // modern, ext-react\n        const target = Ext.Viewport.getRenderTarget().dom;\n        if (callback != undefined) {\n          var rootElement = element\n//        if (typeof rootComponent === 'function') {\n          //r theElement = React.createElement(rootElement,null)\n\n          //rootComponent(<ExtReact></ExtReact>, target);\n          //rootComponent(rootElement, target);\n                    //var theElements = <ExtReact> <element/> </ExtReact>\n\n                    var appElement = React.createElement(rootElement)\n                    //var v1 = React.isValidElement(e1)\n                    //var m = React.Children.map(rootElement, null)\n                    //var o1 = React.Children.only(e1)\n\n          var theElements = React.createElement(ExtReact,null,[...appElement])\n          //var theElements = React.createElement(ExtReact,null,React.createElement(element,null,null))\n          //var theElements = React.createElement(element)\n\n          callback(theElements, target);\n        }\n        if (rootComponent) {\n          ReactDOM.render(<ExtReact>React.createElement(rootComponent,null)</ExtReact>, target);\n        }\n      } else {\n        // classic\n        if (options.viewport || rootComponent) {\n          const style = document.createElement('style');\n          style.innerHTML = 'html, body, div[reactroot] { height: 100%; }';\n          document.head.appendChild(style);\n        }\n\n        const target = document.createElement('div');\n        target.setAttribute('reactroot', 'on');\n        target.setAttribute('class', 'reactroot');\n        document.body.appendChild(target);\n\n        if (typeof rootComponent === 'function') {\n          rootComponent = rootComponent(target);\n        }\n\n        if (rootComponent) {\n          ReactDOM.render(rootComponent, target);\n        }\n      }\n    }\n  });\n\n\n\n}\n\n\n\n\n\n\n/**\n * Launches an ExtReact application, creating a viewport and rendering the specified root component into it.\n * @xparam {React.Component/Function} rootComponent You application's root component, or a function that returns the root component.\n * @xparam {Object} [options] Additional config parameters for ExtReact.\n * @xparam {Object} options.debug Set to true to show debug information in the console related to creating, updating, and destroying Ext JS components.\n * @xparam {Object} options.viewport  When using Ext JS classic, set to true to have the root component sized to the full height and width of the window.\n * @xparam {Object} [appConfig] Additional config parameters for Ext.application\n */\nexport function launch(rootComponent, options = { debug: false, viewport: false }, appConfig = { }) {\n  configure(options)\n  Ext.namespace('Ext.react').ReactDOM = ReactDOM; // needed for RendererCell and any other components that can render React elements;\n\n  Ext.application({\n    name: '$ExtReactApp',\n    ...appConfig,\n    launch: () => {\n      if (Ext.Viewport && Ext.Viewport.getRenderTarget) {\n        const target = Ext.Viewport.getRenderTarget().dom;\n        if (typeof rootComponent === 'function') {\n          rootComponent = rootComponent(target);\n        }\n        if (rootComponent) {\n          ReactDOM.render(rootComponent, target);\n        }\n      } else {\n        if (options.viewport || rootComponent) {\n          const style = document.createElement('style');\n          style.innerHTML = 'html, body, div[reactroot] { height: 100%; }';\n          document.head.appendChild(style);\n        }\n\n        const target = document.createElement('div');\n        target.setAttribute('reactroot', 'on');\n        target.setAttribute('class', 'reactroot');\n        document.body.appendChild(target);\n\n        if (typeof rootComponent === 'function') {\n          rootComponent = rootComponent(target);\n        }\n\n        if (rootComponent) {\n          ReactDOM.render(rootComponent, target);\n        }\n      }\n    }\n  });\n}\n\n/**\n * Configures React to resolve jsx tags.\n * @deprecated\n * @param {Object} options\n * @param {String} options.viewport When true, adds a stylesheet that mimics an Ext JS Viewport\n *  by setting the html, body, and react root element to height: 100%. Set this to true when using an\n *  Ext JS component at the root of your app.\n */\nexport function install(options) {\n  if (options.viewport) {\n    console.warn('[@sencha/ext-react] Warning: install({ viewport: true }) is deprecated.  Use launch(<App/>) in place of Ext.onReady(() => ReactDOM.render(<App/>, document.getElementById(\\'root\\'))).')\n  } else {\n    console.warn('[@sencha/ext-react] Warning: install() is deprecated.  Use launch(() => ReactDOM.render(<App/>, document.getElementById(\\'root\\'))) in place of Ext.onReady(() => ReactDOM.render(<App/>, document.getElementById(\\'root\\'))).')\n  }\n\n  launch(null, options);\n};\n"],"file":"index.js"}